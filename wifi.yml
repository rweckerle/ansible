---
- hosts: all
  become: true

  tasks:

    - name: set wireless Nework
      community.general.nmcli:
        type: wifi
        conn_name: WLPhy
        ssid: WLPhy
        ifname: '*'
        wifi_sec:
          key-mgmt: sae
          psk: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34313731613430333536393233623061623637396562333664343934323937613332353936346433
          3664366264393135343832623532373964353864333537620a383663643437366438366664643436
          39336638343663616265643264336637393166396665656333313161613261363439373333363036
          6438363764646661360a326137323263663835623838623732393064316461663932353333393234
          30333064363761383130323962383566643237376430303763303164623033666662
        autoconnect: true
        state: present
